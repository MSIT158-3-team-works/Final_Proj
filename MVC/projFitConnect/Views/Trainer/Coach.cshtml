@{
    // ViewData["Title"] = "Coach";
}
<link href="~/css/arrowdown.css" rel="stylesheet" />
<main style="padding-top:85px;">
    <div class="return-button">
        <button id="returnButton" onclick="goBack()">＜返回</button>
    </div>
    <div class="goTop">
        <a href="#" class="goTopBtn jq-goTop">
            <i class="fas fa-arrow-alt-circle-up fa-3x"></i>
        </a>
    </div>
    <div class="container marketing mx-auto" style="width:75%;">
        <div class="mx-2">
            <div id="carouselExampleIndicators" class="carousel slide w-100" data-bs-ride="carousel" style="height:75vh;border-radius:10px; background-color:#BEBEBE;">
                <div class="carousel-inner" id="divImage">
                    <div class="carousel-item active" data-bs-interval="3000">
                        <img src="https://media.tenor.com/vNB3iUXsxnQAAAAC/loading-gif.gif" class="d-block mx-auto img-fluid " alt="..." style="height:75vh; ">
                    </div>
                    <div class="carousel-item" data-bs-interval="3000">
                        <img src="@Url.Content("~/assets/img/portfolio/2.jpg")" class="d-block mx-auto w-100" alt="...">
                    </div>
                    <div class="carousel-item" data-bs-interval="3000">
                        <img src="@Url.Content("~/assets/img/portfolio/3.jpg")" class="d-block mx-auto w-100" alt="...">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>

    <div class="container marketing mt-3">
        <ul class="nav nav-pills mb-3 " id="pills-tab" role="tablist">
            <li class="nav-item" role="presentation">
                <a class="nav-link" href="#section-coachdetail" role="tab" aria-controls="section-coachdetail" aria-selected="false">教練資料</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" href="#section-location" role="tab" aria-controls="section-location" aria-selected="false">可上課地點</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" href="#section-rate" role="tab" aria-controls="section-rate" aria-selected="false">評價</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" href="#section-home" role="tab" aria-controls="section-home" aria-selected="true">課程方案</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" href="#section-recommand" role="tab" aria-controls="section-recommand" aria-selected="false">推薦教練</a>
            </li>
        </ul>

        <div id="section-coachdetail" class="section" tabindex="0">
            <div>
                <h2><strong>教練資料</strong></h2>
                <div id="coachDetail" class="d-flex" style=" background-color:#BEBEBE;  border-radius:10px; padding:5px; ">
                    <div class="container marketing">
                        <h1 class="chakra-text">Eric 陳伯維</h1>
                        <div class="d-flex">
                            <h3 class="chakra-text">#<!-- -->體態優化</h3>
                            <h3 class="chakra-text">#<!-- -->新手健身</h3>
                            <h3 class="chakra-text">#<!-- -->運動表現</h3>
                        </div>
                        <div class="chakra-stack">
                            <div class="css-1lekzkb">
                                <h3 class="chakra-text css-fei0tw">教練簡介</h3>
                            </div>
                            <div class="container marketing">
                                <div class="coachDetail">
                                    陳伯維 ( Eric )，中國醫藥大學 - 運動醫學系畢業，曾任運動醫學系系友會會長、中大型俱樂部教練、副理、經理，健身工作室與運動醫學診所顧問，與業界培訓講師。
                                    自2011年進入職場擔任私人教練，迄今十餘年接觸運動醫學與人體訓練，持續進修，學習更新更專業的運動知識與技術，至今擁有40張以上證書/證照。
                                    個人教學上結合理論與實務，訓練風格 : 「簡易有強度、俐落與實際」 。
                                    擁有10,000小時以上教學經驗時數，1000小時培訓教育經驗，100人次以上訓練經驗。
                                    <div>
                                        #松山區健身教練 #小巨蛋自由教練 #教練培訓
                                    </div>
                                </div>
                                <div class=" ">
                                    <button type="button" class="chakra-button css-1qmctmy" onclick="toggleReadMore()">Read More</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="section-location" class="section" tabindex="0">
            <div>
                <h2><strong>上課地點</strong></h2>
                <div id="gymDetail">
                    場館卡------
                </div>
            </div>
        </div>
        <div id="section-rate" class="section" tabindex="0">
            <div>
                <h2><strong>教練評價</strong></h2>
                <div id="rateDetail">
                    評價卡------
                </div>
            </div>
        </div>
        <div id="section-home" class="section" tabindex="0">
            <div>
                <h2><strong>課程方案</strong></h2>
                <div id="classDetail" class="row row-cols-1 row-cols-md-3 g-4">
                    <div class="col">
                        <div class="card h-100">
                            <img src="~/assets/img/portfolio/4.jpg" class="card-img-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title">Card title</h5>
                                <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="section-recommand" class="section" tabindex="0">
            <div>
                <h2><strong>推薦教練</strong></h2>
                <div id="coachRecommand" class="row row-cols-1 row-cols-md-4 g-4 ">
                    <div class="col">
                        <div class="card h-100">
                            <img src="~/assets/img/portfolio/4.jpg" class="card-img-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title">Card title</h5>
                                <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal -->
    <div class="modal" id="unloginlModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered m-auto">
            <div class="modal-content" style="position:relative;border-radius:15px;border-color:#FFECEC;">
                <div class="modal-body" style="background-color:#ECFFFF; padding:0; position:relative; border-radius:15px;">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="position:absolute; top:10px; right:10px;"></button>
                    <p style="position:absolute; top:10%; left:50%; transform:translate(-50%, -50%); color:#003D79; text-shadow: 1px 1px 2px #D7FFEE; font-weight:900;font-size:2.5em;">尚未登入</p>
                    <img src="https://cdn.pixabay.com/animation/2022/12/01/17/03/17-03-11-60_512.gif" alt="Failed" style="height:100%; width:100%; object-fit:cover; border-radius:15px;border-color:#ECFFFF;">
                    <a href="https://localhost:7168/Home/Login" class="btn btn-primary" id="headtologin" style="position:absolute; top:90%; left:50%; transform:translate(-50%, -50%);">前往登入--></a>
                </div>
            </div>
        </div>
    </div>
</main>
@{
    var loginMemberID = ViewBag.ID != null ? ViewBag.ID : 0;
}
@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js">jquery設定</script>
    <script>
        const LoginMemberID = "@loginMemberID";
        console.log('LoginMemberID', LoginMemberID);
        let coachID = @ViewBag.coachid;
        console.log('coachID', coachID);
        const coachDetail = document.querySelector('#coachDetail');//教練資訊
        const divImage = document.querySelector('#divImage');//照片瀏覽
        const gymDetail = document.querySelector('#gymDetail');//場館資訊
        const rateDetail = document.querySelector('#rateDetail');//評價資訊
        const classDetail = document.querySelector('#classDetail');//課程卡片
        const coachRecommand = document.querySelector('#coachRecommand');//教練卡
        const unloginlModal = new bootstrap.Modal(document.getElementById('unloginlModal'));

        //返回上一頁
        function goBack() {
            window.history.back();
        };
        //追蹤事件
        const trackedImg = '<img src="https://cdn4.iconfinder.com/data/icons/small-n-flat/24/heart-48.png"/>';
        const untrackedImg = '<img src="https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-ios7-heart-outline-48.png" />';
        let memberId = LoginMemberID; // 抓會員ID
        //載入時檢查是否有追蹤
        async function initializeTrackingOnLoad(eventElement, coachId) {
            try {
                let urlCheck = `https://localhost:7199/api/CoachTrack/check?memberId=${memberId}&coachId=${coachID}`;

                let response = await fetch(urlCheck);

                if (!response.ok) {
                    throw new Error('Network response was not ok.');
                }

                let data = await response.json();

                if (data.exists) {
                    eventElement.innerHTML = trackedImg;
                } else {
                    eventElement.innerHTML = untrackedImg;
                }
            } catch (error) {
                console.error('Error:', error);
            }
        }
        //點擊時判斷是否已追蹤，根據狀態顯示相應圖片
        async function track(eventElement, coachId) {

            let isTracked;
            let urlCheck = `https://localhost:7199/api/CoachTrack/check?memberId=${memberId}&coachId=${coachID}`;

            try {
                let response = await fetch(urlCheck);

                if (!response.ok) {
                    throw new Error('Network response was not ok.');
                }
                let data = await response.json();
                //console.log(data);
                if (data.exists) {
                    eventElement.innerHTML = trackedImg;
                    //console.log(isTracked);
                    isTracked = true;
                } else {
                    eventElement.innerHTML = untrackedImg;
                    // console.log(isTracked);
                    isTracked = false;
                }
                //無資料即新增一筆，有資料則刪除一筆
                if (!isTracked) {
                    let urlAdd = `https://localhost:7199/api/CoachTrack?memberId=${memberId}&coachId=${coachID}`;
                    let addResponse = await fetch(urlAdd, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    });

                    if (!addResponse.ok) {
                        if (LoginMemberID === '0') {
                            unloginlModal.show();
                            return;
                        }
                        //todo:alert需先登入後，跳轉至登入頁面
                        // if (confirm('請先登入/註冊會員')) {
                        //     setTimeout(() => {
                        //         window.location.assign('https://localhost:7168/Home/Login');
                        //     }, 100);
                        // }
                        // // alert('請先登入/註冊會員')
                        
                        throw new Error('Failed to add track.');
                    }
                    eventElement.innerHTML = trackedImg;
                    isTracked = true;
                } else {
                    let urlDelete = `https://localhost:7199/api/CoachTrack/${memberId}/${coachID}`;
                    let deleteResponse = await fetch(urlDelete, {
                        method: 'DELETE'
                    });
                    if (!deleteResponse.ok) {
                        throw new Error('Failed to delete track.');
                    }
                    eventElement.innerHTML = untrackedImg;
                    isTracked = false;
                }
            } catch (error) {
                console.error('Error:', error);
            }
        }

        //載入教練資料
        const loadCoach = async () => {
            let url = 'https://localhost:7199/api/Coach/' + coachID;
            let response = await fetch(url);
            let data = await response.json();
            //console.log(data);
            //取出教練專長
            var aa = ''
            var bb = data.coachDetailDto.experties.map(ex => ex.classSort2);
            //console.log('bb', bb);
            var cc = [];
            for (let i of bb) {
                if (!cc.includes(i)) {
                    cc.push(i);
                }
            }
            for (let i of cc) {
                aa += `#${i} `
            }
            // 平均評分
            let coachRates = '';
            let sum = 0;
            let averageRate = '';
            data.rateDetailDtos.forEach(item => {
                sum += item.rateCoach;
            });
            if (data.rateDetailDtos.length !== 0) {
                averageRate = (sum / data.rateDetailDtos.length).toFixed(1);
                ratediv = `<div class="rate" > <h2 style="color:yellow;">★</h2><h3> ${averageRate} </h3></div >`;
            } else {
                ratediv = "";
            }
            //console.log(sum / data.rateDetailDtos.length);
            //瀏覽圖片
            img = '';
            img = `<div class="carousel-item active" data-bs-interval="5000" >
                            <img src="data:image/jpeg;base64,${data.coachDetailDto.photo}" class="d-block mx-auto img-fluid " alt="..." style="height:75vh; ">
                            </div>`;
            if (data.coachDetailDto.images) {
                for (let pic of data.coachDetailDto.base64Images) {
                    img += `<div class="carousel-item" data-bs-interval="3000" >
                               <img src="data:image/jpeg;base64,${pic}" class="d-block mx-auto img-fluid " alt="..." style="height:75vh; ">
                            </div>`;
                }
            }
            //console.log("img======",img);
            //<p class="track" >♥</p>
            //教練資訊
            det = `<div class="container marketing coachinfo" >
                              ${ratediv}
                              <button id="trackbtn" type="button" class="btn track rounded-circle" onclick="track(this)">
                               <img src="https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-ios7-heart-outline-48.png" />
                              </button>
                            <h1 class="chakra-text">${data.coachDetailDto.name}
                            </h1>
                                <h5 style="font-style:italic">${aa}</h5>
                                <h5><b>性別 :</b> ${data.coachDetailDto.genderDescription}</h5>
                                 <h5><b>聯絡電話 :</b> ${data.coachDetailDto.phone}</h5>
                                 <h5><b>電子郵件 :</b> ${data.coachDetailDto.eMail}</h5>
                                 <h3 class="chakra-text"> 教練簡介 </h3>
                                 <div class="container marketing">
                                   <div class="coachDetail">
                                          ${data.coachDetailDto.intro}</br></br>
                                          <p>我有什麼優點與價值 ?</p>
                                          我是一名喜歡訓練與了解人體奧秘的訓練者/教練。</br>
                                          喜歡簡易的邏輯與實務的內容，不喜歡繁鎖無序與繞遠路的訓練過程，喜歡探討追求訓練的本質與身體進步的重點。</br>
                                          無痛訓練」與「運動狀況排除」是我的強項，「強化人體機能」與協助您「運動目標達成」，更是我的渴望。</br>
                                          若有我未竟、未解之處，我會為您尋求解方與轉介比我厲害的人。</br>
                                          我可以理解您運動上的障礙與苦惱，具備同理心的陪伴您進步。</br>
                                          我追求能讓客戶與生活共融的訓練生活，讓「運動」走入您的生命，進而成為您的習慣。</br>
                                          <p>而我是這樣的傳道人~盼能與您同行~~~</p>
                                    </div>
                                    <div class="read-more-container">
                                       <button type="button" class="chakra-button css-1qmctmy" onclick = "toggleReadMore()"> Read More</button>
                                               <div id="arrowIcon" class="arrow-down"></div>
                                     </div>
                             </div>`;

            //console.log(data.fieldDetailDtos);
            //場館資訊卡
            const gymCard = data.fieldDetailDtos.map(item => {
                return (`<a href="/Gym/Index?id=${item.gymId}" class="card mb-3 act"  style="max-width: 800px; text-decoration:none;">
                                              <div class="row g-0">
                                                 <div class="col-md-5 d-flex align-items-center justify-content-center" style="overflow: hidden;">
                                                   <img src="data:image/png;base64,${item.gymPhoto}" class="img-fluid rounded-start imgsize">
                                                 </div>
                                                      <div class="col-md-7">
                                                           <div class="card-body">
                                                              <h2 class="card-title">${item.gymName}</h2>
                                                              <p class="card-text"><b>營業時間 :</b> ${item.gymTime}</p>
                                                              <p class="card-text"><b>聯絡電話 :</b> ${item.gymPhone}</p>
                                                              <p class="card-text"><b>地址 :</b> ${item.gymAddress}</p>
                                                          </div>
                                                     </div>
                                                </div>
                                        </a>`)
            })
            //評價資訊卡
            let rating = '';
            data.rateDetailDtos.map(item => {
                rating += `<div class="card mb-3" style="max-width: 540px;">
                                      <div class="row g-0">
                                             <div class="card-body">
                                                   <h4 class="card-title">${item.member}</h4>
                                                     <h6 class="card-text"><img src="/assets/img/star1.png">${item.rateCoach}</h6>
                                                    <p class="card-text"><b>評語 :</b> ${item.coachDescribe}</p>
                                               </div>
                                             </div>
                                         </div>`;
                //console.log(rating);
            })
            if (rating === '') rating = `</br><h3>還沒有人評價喔~~</h3>`
            //todo:課程卡
            const classCard = data.scheduleDatailDtos.map(item => {
                return (`<a href="/Course/Search/${item.classScheduleId}" class="card mb-3 act"  style="text-decoration:none; background-color:#BEBEBE;">
                                <div class="col">
                                                <div class="card h-100">
                                                            <img src="data:image/jpeg;base64,${item.photo}" id="image" class="img-fluid rounded-start" alt="..." style="object-fit: cover; height: 100%; width: auto;">
                                                    <div class="card-body">
                                                        <h5 class="card-title"><strong>${item.class}</strong></h5>
                                                        <p class="card-text">場館 : ${item.gymName}</p>
                                                        <p class="card-text">教室 : ${item.field}</p>
                                                       <p class="card-text">日期 : ${item.courseDate}</p>
                                                      <p class="card-text">時間 : ${item.courseStartTime.toString().substring(0, 5)}</p>
                                                      <p class="card-text">價格 : ${item.classPayment}元/堂</p>
                                                    </div>
                                                </div>
                                                </div>
                                       </a>`)
            })

            gymDetail.innerHTML = gymCard.join("");
            coachDetail.innerHTML = det;
            rateDetail.innerHTML = rating;
            classDetail.innerHTML = classCard.join("");
            divImage.innerHTML = img;
        }
        //-------------------------------------
        //載入推薦教練
        const recommandCoach = async () => {
            let sortBy = ["", "RegionId", "Sort1ID", "GenderID", "Sort2ID"];
            let sortType = ["asc", "desc"];
            let randomNumber = Math.floor(Math.random() * 5);
            let randomType = Math.floor(Math.random() * 2);
            //console.log(randomNumber);
            const url = 'https://localhost:7199/api/Coach/SEARCH';
            const response = await fetch(url, {
                method: 'POST',
                body: JSON.stringify({
                    "sort1": "",
                    "sort2": "",
                    "gender": "",
                    "city": "",
                    "region": "",
                    "classId": 0,
                    "keyword": "",
                    "page": 1,
                    "pageSize": 4,
                    "sortBy": sortBy[randomNumber],
                    "sortType": sortType[randomType]
                }),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            data = await response.json();
            //console.log(sortBy[randomNumber]);
            //console.log(sortType[randomType]);
            //教練卡
            const coachCard = data.coachResult.map(item => {
                //專長(不重複)
                const uniqueExp = {};
                const exps = item.experties.map(exp => {
                    const key = `${exp.classSort2}`;
                    if (!uniqueExp[key]) {
                        uniqueExp[key] = true;
                        return `#${exp.classSort2}`;
                    }
                    return null;
                    //console.log(exp.classSort2);
                }).filter(exp => exp !== null).join(`<br>`);

                //console.log(exps);
                //console.log(item.experties.classSort2)
                return (`<a href="/Trainer/Coach?id=${item.id}" class="card mb-3 act"  style="text-decoration:none; background-color:#BEBEBE;">
                                        <div class="card h-100">
                                                    <img src="data:image/jpeg;base64,${item.photo}" id="image" class="img-fluid rounded-start" alt="..." style="object-fit: cover; height: 100%; width: auto;">
                                            <div class="card-body">
                                                 <h5 class="card-title"><b>${item.name}</b></h5>
                                                  <p class="card-text">${item.intro}</p>
                                                  <p class="card-text">${exps}</p>
                                            </div>
                                        </div>
                               </a>`)
            })
            coachRecommand.innerHTML = coachCard.join("");
        }
        // 所有DOM都已經加載完成後執行
        document.addEventListener('DOMContentLoaded', () => {
            // 等待按鈕生成後再初始化
            setTimeout(() => {
                const eventElement = document.getElementById('trackbtn');
                if (eventElement) {
                    initializeTrackingOnLoad(eventElement, coachID);
                } else {
                    console.error('Element with ID "trackbtn" not found.');
                }
            }, 100);
            loadCoach();
            recommandCoach();
        });
        //資料收折
        function toggleReadMore() {
            const textElement = document.querySelector('.coachDetail');
            const buttonElement = document.querySelector('.chakra-button');
            const arrowIcon = document.getElementById('arrowIcon');

            if (textElement.classList.contains('expanded')) {
                textElement.classList.remove('expanded');
                buttonElement.textContent = 'Read More';
                arrowIcon.classList.remove('arrow-up'); // Remove the arrow-up class if previously added
                arrowIcon.classList.add('arrow-down'); // Add the arrow-down class
            } else {
                textElement.classList.add('expanded');
                buttonElement.textContent = 'Hide';
                arrowIcon.classList.remove('arrow-down'); // Remove the arrow-down class
                arrowIcon.classList.add('arrow-up'); // Add the arrow-up class
            }
        }

        //觸發索引標籤事件(使用jquery)
        $(document).ready(function () {
            $('.nav-link').hover(
                function () {
                    $(this).addClass('active');
                },
                function () {
                    if (!$(this).hasClass('clicked')) {
                        $(this).removeClass('active');
                    }
                }
            );
            $('.nav-link').click(function () {
                $('.nav-link').removeClass('active').removeClass('clicked');
                $(this).addClass('active').addClass('clicked');
            });
        });
        //回頂部按鈕
        $(window).scroll(function () {
            if ($(window).scrollTop() > 200) {
                if ($(".goTop").hasClass("hide")) {
                    $(".goTop").toggleClass("hide");
                }
            } else {
                $(".goTop").addClass("hide");
            }
        });
    </script>
}

@section Styles {
    <style>
        html {
            scroll-behavior: smooth;
        }
        /*返回按鈕*/
        #returnButton {
            background-color: transparent;
            border: 1px solid transparent; /* 可以加上邊框，使按鈕可見 */
            color: slategray; /* 按鈕文字顏色 */
            cursor: pointer;
            padding: 0;
            font-size: 24px;
            margin-top: 10px;
        }

            #returnButton:hover {
                text-decoration: none;
            }

        .section {
            padding-top: 130px;
        }

        .coachinfo {
            position: relative;
            margin-left: 75px;
            margin-right: 75px;
            background-color: white;
            padding-left: 25px;
            padding-right: 25px;
            border-radius: 10px;
        }
        /*顯示評分*/
        .rate {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 75px;
            height: 60px;
            background-color: #ADADAD /* #FFFF93 */;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #FFFFF4;
            text-shadow: 0.5px 1px 0.2px #4B0091;
        }
        /*追蹤按鈕*/
        .track {
            position: absolute;
            top: 85px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: white;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: deeppink;
            font-size: 3em;
            border: solid 2px black;
        }
            .track:hover {
                border-color: #dc3545;
            }

        /* 固定索引標籤 */
        #pills-tab {
            position: sticky;
            top: 85px;
            /* border-bottom: solid 3px #BEBEBE; */
            background-color: white;
            color:lightgray;
            z-index: 1000; /* 确保元素位于其他内容之上 */
        }

        .nav-pills .nav-link{
            color:gray;
            background-color:white;
            font-weight: normal; /* 正常字體粗細 */
            border-radius:0;
        }
        .nav-pills .nav-link.active,
        .nav-pills .nav-link:hover,
        .nav-pills .nav-link:focus {
            /* background-color: #cce5ff; */ /* 淺藍色 */
            background-color: white;
            color: black; 
            font-weight: bold; /* 粗體字體 */
                border-bottom: 3px solid #004B97;
        }

        /*文字摺疊效果*/
        .coachDetail {
            word-wrap: break-word;
            word-break: break-all;
            white-space: normal;
            max-height: 60px; /* 设定初始高度 */
            overflow: hidden; /* 隐藏超出部分 */
            transition: max-height 0.3s ease; /* 添加过渡效果 */
        }
            .coachDetail.expanded {
                max-height: 800px; /* 设定展开后的高度 */
            }
        /* 移除按鈕的邊框 */
        .chakra-button {
            border: none;
            background-color: transparent; /* 背景設為透明 */
            cursor: pointer;
            width: 100%; /* 按鈕寬度100%填滿父容器 */
            padding: 10px; /* 按鈕內邊距，根據需要調整 */
        }

        .read-more-container {
            position: relative; /* 設置相對定位 */
            width: 150px; /* 固定容器寬度，根據需要調整 */
            margin: 0 auto; /* 水平居中 */
            text-align: center; /* 按鈕文字居中 */
        }
        /* 箭頭圖示的樣式 */
        .arrow-down {
            position: absolute; /* 絕對定位 */
            top: calc(100% + 5px); /* 與按鈕底部的距離，根據需要調整 */
            left: 45%; /* 箭頭置中 */
            transform: translateX(-50%); /* 水平置中 */
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 10px solid black;
            margin: 5px auto 0; /* 上邊距、左右自動、下邊距 */
            animation: arrowAnimation 1s infinite alternate; /* 箭頭的動畫 */
        }
        .arrow-up {
            position: absolute;
            top: calc(100% + 5px);
            left: 45%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 10px solid black; /* Change border-top to border-bottom */
            margin: 5px auto 0;
            animation: arrowAnimation 1s infinite alternate;
        }

        /*滑鼠覆蓋卡片效果*/
        .act {
            transition: transform 0.3s ease;
            cursor: pointer;
        }

            .act:hover {
                transform: scale(0.98);
            }
        /*回頂端*/
        .goTop {
            position: fixed;
            right: 90px;
            bottom: 18px;
        }

        .goTopBtn {
            background-color: transparent;
            border: none;
            outline: none;
            cursor: pointer;
        }

        .fa-arrow-alt-circle-up {
            color: $primary;
        }

    </style>
}

